struct ClosedRangeIterator<T>: Copyable, Iterator<T> {
    var current: T;
    var end: T;

    init(range: ClosedRange<T>) {
        current = range.start();
        end = range.end();
    }

    def hasValue(): bool {
        return current <= end;
    }

    def value(): T {
        return current;
    }

    mutating def increment() {
        current++;
    }
}
