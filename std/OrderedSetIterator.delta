struct OrderedSetIterator<Element>: Copyable, Iterator<Element*> {
    mutable OrderedMapIterator<Element, bool>* mapIter;

    init (OrderedSet<Element>* set) {
        this.mapIter = set.map.iterator();
    }

    bool hasValue() {
        return mapIter.hasValue();
    }

    Element* value() {
        return mapIter.value().key;
    }

    mutating void increment() {
        mapIter.increment();
    }
}
