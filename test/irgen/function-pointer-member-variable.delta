// RUN: check_matches_snapshot %s.ll %delta -print-ir %s

struct X {
    var p: (int) -> int;

    init(p: (int) -> int) {
        this.p = p;
    }

    def f() {
        this.p(42);
        p(42);
        var p2 = p;
        p2(42);
    }
}

def foo(a: int): int {
    return a;
}

def main() {
    var x = X(foo);
    x.p(42);
    x.f();
}
