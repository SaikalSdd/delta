// RUN: check_matches_snapshot %s.ll %delta -print-ir %s

extern def f(): bool;

struct A {
    var b: B;
    var bb: B;
    var i: int;

    init() {
        b = undefined;
        bb = undefined;
        i = undefined;
    }

    deinit() {
        if (f()) {
            return;
        }
    }
}

struct B {
    var i: int;
    init() { i = 0; }
    deinit() {}
}

struct C {
    var b: B;
    var bb: B;
    init() {
        b = undefined;
        bb = undefined;
    }
}

def main() {
    var a = A();
    var c = C();
}
