// RUN: not %delta -typecheck %s | %FileCheck %s

struct T {}

def f(t: T) {}

def g(t: T) {
    f(t);
    let a = t; // CHECK: [[@LINE]]:13: error: use of moved value
}
