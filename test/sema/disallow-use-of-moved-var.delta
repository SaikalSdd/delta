// RUN: not %delta -typecheck %s | %FileCheck %s

struct T {
    init() {}
}

def f(t: T) {}

def g() {
    let t = T();
    f(t);
    f(t); // CHECK: [[@LINE]]:7: error: use of moved value
}
