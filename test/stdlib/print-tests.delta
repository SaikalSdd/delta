// RUN: compile_and_run -Werror %s | %FileCheck %s

struct A: Printable {
    StringRef a;

    init(StringRef a) {
        this.a = a;
    }

    void printTo(String* stream) {
        stream.write(a);
        stream.write(a);
        stream.write("!");
    }
}


void main() {
    // CHECK: foofoo!
    print(A("foo"));
}
