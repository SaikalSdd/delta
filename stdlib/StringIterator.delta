struct StringIterator: Iterator<char> {
    var current: char*;
    let end: char*;

    init(string: StringRef) {
        current = string.data();
        end = string.data() + string.size();
    }

    func hasValue() -> bool {
        return cast<void*>(current) != cast<void*>(end);
    }

    func value() -> char {
        return *current;
    }

    mutating func increment() {
        current++;
    }
}
